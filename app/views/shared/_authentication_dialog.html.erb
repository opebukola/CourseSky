<div class="modal hide" id="authentication-dialog">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Sign-in or Sign-up</h3>
  </div>
  <div class="modal-body">
    <p>Please sign-in or sign-up to save the test result.</p>
    <ul class="nav nav-tabs" id="myTab">
      <li class="active"><a href="#sign-in-pane" data-toggle="tab">Sign In</a></li>
      <li><a href="#sign-up-pane" data-toggle="tab">Sign Up</a></li>
    </ul>

    <div class="tab-content">
      <div class="tab-pane active" id="sign-in-pane">
        <%= simple_form_for(User.new, :url => session_path(:user), :html => {:class => "form-horizontal", 'data-type' => 'json'}, :remote => true) do |f| %>
          <%= f.input :login, :label => "Email" %>
          <%= f.input :password %>
          <%= f.input :remember_me, :as => :boolean, :label => "Remember me" %>
          <div class="form-actions">
            <%= f.submit "Sign in", :class => "btn-primary btn-large" %>
          </div>
        <% end -%>
      </div>
      <div class="tab-pane" id="sign-up-pane">
        <%= simple_form_for(User.new, :url => registration_path(:user), :html => {:class => "form-horizontal", 'data-type' => 'json'}, :remote => true) do |f| %>
          <%= f.input :username %>
          <%= f.input :email %>
          <%= f.input :password %>
          <%= f.input :password_confirmation, :label => "Confirmation" %>
          <div class="form-actions">
            <%= f.submit "Sign Up", :class => "btn-success btn-large" %>
          </div>
        <% end -%>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(function() {
    var ad = new CourseSky.AuthenticationDialog();
  })
</script>
